(()=>{"use strict";var e={d:(o,t)=>{for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)},o={};e.d(o,{default:()=>r});class t{constructor(){this.loadPromise=null,this.isLoaded=!1}static getInstance(){return t.instance||(t.instance=new t),t.instance}load(e){return o=this,t=void 0,i=function*(){if(!this.isLoaded){if(this.loadPromise)return this.loadPromise;this.loadPromise=this.initializeGoogleMaps(e),yield this.loadPromise,this.isLoaded=!0}},new((n=void 0)||(n=Promise))(function(e,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(o){var t;o.done?e(o.value):(t=o.value,t instanceof n?t:new n(function(e){e(t)})).then(s,r)}l((i=i.apply(o,t||[])).next())});var o,t,n,i}initializeGoogleMaps(e){return new Promise((o,t)=>{if(window.google&&window.google.maps)return this.isLoaded=!0,void o();const{key:n,version:i="weekly",language:a="es",region:s="AR"}=e,r=document.createElement("script");r.src=`https://maps.googleapis.com/maps/api/js?key=${n}&v=${i}&language=${a}&region=${s}&callback=initGoogleMaps`,r.async=!0,r.defer=!0,console.log(r.src),window.initGoogleMaps=()=>{delete window.initGoogleMaps,this.isLoaded=!0,o()},r.onerror=()=>{delete window.initGoogleMaps,t(new Error("Failed to load Google Maps"))},document.head.appendChild(r)})}}class n{constructor(){this.map=null,this.markers=[],this.infoWindows=[],this.loader=t.getInstance()}initialize(e,o,t){return n=this,i=void 0,s=function*(){var n,i,a,s;yield this.loader.load(o);const r=document.getElementById(e);if(!r)throw new Error(`Element with ID "${e}" not found`);this.map=new window.google.maps.Map(r,{center:t.center,zoom:t.zoom,mapId:t.mapId,mapTypeId:t.mapTypeId||"roadmap",disableDefaultUI:t.disableDefaultUI||!1,zoomControl:null===(n=t.zoomControl)||void 0===n||n,mapTypeControl:null===(i=t.mapTypeControl)||void 0===i||i,streetViewControl:null===(a=t.streetViewControl)||void 0===a||a,fullscreenControl:null===(s=t.fullscreenControl)||void 0===s||s,styles:t.styles})},new((a=void 0)||(a=Promise))(function(e,o){function t(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(o){var n;o.done?e(o.value):(n=o.value,n instanceof a?n:new a(function(e){e(n)})).then(t,r)}l((s=s.apply(n,i||[])).next())});var n,i,a,s}getMap(){return this.map}setCenter(e){this.map&&this.map.setCenter(e)}setZoom(e){this.map&&this.map.setZoom(e)}addMarker(e){if(!this.map)return null;const o=new window.google.maps.Marker({position:e.position,map:this.map,title:e.title,icon:e.icon,draggable:e.draggable||!1,animation:e.animation?window.google.maps.Animation[e.animation.toUpperCase()]:void 0});return this.markers.push(o),o}addInfoWindow(e,o){const t=new window.google.maps.InfoWindow({content:e.content,position:e.position,maxWidth:e.maxWidth||300});return o&&o.addListener("click",()=>{this.infoWindows.forEach(e=>e.close()),t.open(this.map,o)}),this.infoWindows.push(t),t}clearMarkers(){this.markers.forEach(e=>e.setMap(null)),this.markers=[]}clearInfoWindows(){this.infoWindows.forEach(e=>e.close()),this.infoWindows=[]}fitBounds(e){if(!this.map||0===e.length)return;const o=new window.google.maps.LatLngBounds;e.forEach(e=>o.extend(e)),this.map.fitBounds(o)}addClickListener(e){this.map&&this.map.addListener("click",e)}geocodeAddress(e){return new Promise((o,t)=>{window.google?(new window.google.maps.Geocoder).geocode({address:e},(e,t)=>{if("OK"===t&&e&&e[0]){const t=e[0].geometry.location;o({lat:t.lat(),lng:t.lng()})}else o(null)}):t(new Error("Google Maps not loaded"))})}}class i{}i.BUENOS_AIRES={center:{lat:-34.6037,lng:-58.3816},zoom:14,mapId:"BUENOS_AIRES_MAP"},i.DARK_THEME=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]}],i.MINIMAL_UI={disableDefaultUI:!0,zoomControl:!0};var a=function(e,o,t,n){return new(t||(t=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function r(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var o;e.done?i(e.value):(o=e.value,o instanceof t?o:new t(function(e){e(o)})).then(s,r)}l((n=n.apply(e,o||[])).next())})};class s{constructor(){this.managers=new Map}createMap(e,o){return a(this,arguments,void 0,function*(e,o,t={}){const a={key:o,version:"weekly",language:"es",region:"AR"},s=Object.assign(Object.assign({},i.BUENOS_AIRES),t),r=new n;return yield r.initialize(e,a,s),console.log(e),this.managers.set(e,r),r})}getManager(e){return this.managers.get(e)}createMapWithMarkers(e,o,t){return a(this,arguments,void 0,function*(e,o,t,n={}){const i=yield this.createMap(e,o,n);return t.forEach(e=>{const o=i.addMarker(e);o&&e.infoWindow&&i.addInfoWindow({content:e.infoWindow},o)}),t.length>1&&i.fitBounds(t.map(e=>e.position)),i})}static get Configurations(){return i}static quickInit(e,o,t){return a(this,arguments,void 0,function*(e,o,t,n=14){return(new s).createMap(e,o,{center:t||i.BUENOS_AIRES.center,zoom:n})})}}const r=s;window.GoogleMapBundle=o.default})();